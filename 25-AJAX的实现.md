synchronous：同步

Asynchronous：异步

AJAX（Asynchronous JavaScript and XML） 是一种在无需重新加载整个页面，仅更新部分网页的技术。

AJAX 通过异步方式与服务器进行少量数据交换。


优点

•页面无需刷新，用户的体验非常好。

•使用异步方式与服务器通信，具有更加迅速的响应能力。

•可以把一些服务器负担的工作转嫁到客户端，
减轻服务器和宽带的负担，节约空间和宽带租用成本。
ajax的原则是“按需取数据”，可以最大程度的减少冗余请求和响应对服务器造成的负担。

•基于标准化、并被广泛支持的技术，不需要下载插件或者小程序。

缺点

•ajax不支持浏览器back按钮

•ajax暴露了与服务器交互的细节，存在安全隐患

•对搜索引擎的支持比较弱

•破坏了程序的异常机制

•不容易调试 

AJAX工作原理

既然Ajax能够发送HTTP请求，
整个请求的过程就必须要符合HTTP协议。
Ajax发送HTTP请求时需要指定以下参数：

•要请求的资源即URL地址。

•指定请求的方式，常用的有get和post。

•指定需要发送给服务器的数据，以“名=值&名=值”的方式书写。

•指定可以接收的数据类型，
即告诉服务器可以回传的内容类型是什么，
包括：HTML、JS脚本、JSON、XML等，常用的是文本txt和JSON。

以上参数就包含了Ajax发送HTTP请求时请求头中的信息，
但服务器响应后会回传结果，因此Ajax还必须有能够接收服务器回传的结果的参数。

匿名函数success:function(re){ }。re变量用于接收服务器回传的结果。

Ajax的基本格式如下：
```
$.ajax({
	url:'请求的资源',
	type:'请求方式get|post',
	data:'发送数据 名=值&名=值',
	dataType:'回传值的类型',
	success:function(re){ re接收返回值

	}
})
```

XML

可扩展标记语言(eXtensible Markup Language)，
是一种用于标记电子文件使其具有结构性的标记语言。

XML和HTML的区别：

|XML					|HTML						|
|:---|:---|
|所有的标记必须成对出现	|不是所有的都需要成对出现	|
|区分大小写				|不区分大小写				|

由于XML结构过于复杂，逐渐被JSON格式所取代。

XMLHttpRequest对象是window的一个方法（构造函数），
用于在后台与服务器交换数据，所有现代的浏览器都支持该对象，它能够实现：

在后台（异步方式）向服务器发送数据

在页面已加载后从服务器 请求/接收 数据，在不重新加载页面的情况下更新网页

尽管名为 XMLHttpRequest，
它并不限于和 XML 文档一起使用：它可以接收任何形式的文本文档

AJAX通过操作XMLHttpRequest对象，
与服务器异步交互数据，
要完整实现一个AJAX异步调用和局部刷新,通常需要以下几个步骤:

•创建XMLHttpRequest对象

•创建一个新的HTTP请求,并指定该HTTP请求的方法、URL及验证信息.

•发送数据

•接收数据

JSONP

Jsonp(JSON with Padding) 可以异步、跨域进行数据请求。

ajax由于受到同源策略的限制，不能进行跨域请求，
但在某些情况下，又需要进行跨域请求数据，就诞生了jsonp技术，
严格说，jsonp不是技术，是 json 的一种"使用模式"。

实现jsonp跨域请求，需要前后两端进行配合。

hello world

```
前端
html页面中的，有三种标签，可以跨域（get）请求资源，分别是：link 、img、script，试着用script发送一个异步请求：
域：127.0.0.1:8888
<script>
    function play(obj){
        alert(obj.msg);
    }
</script>

<script src="http://127.0.0.1:8000/doAction.php?callback=play"></script>
•声明了一个play函数
•从127.0.0.1:8888域 向 127.0.0.1:8000域的doAction.php接口发送了get请求，并带有cb=play的参数
后端
用php创建一个后端接口：doAction.php
域：127.0.0.1:8000
<?php
 	$fn=$_GET["callback"];
	$json='{"msg":"hello world"}';//json格式的数据
	echo "{$fn}($json)";
?>
结果
play函数被调用，弹出”hello world“。
```

原理

以上就是一个完整的jsonp，在这个案例中：

•前端将要调用的函数名play，作为参数传递给后台

•后台接收参数，返回一个字符串，
字符串的的内容就是调用play函数的语句，并且带有json格式数据的参数

•前端接收到后端返回的字符串，
既然是script标签发出的请求，接收回来的字符串就会被当做命令执行，
该命令调用已经定义好的play函数，同时接收到了传递过来的json格式数据。

以上步骤，是实现一个jsonp的标准流程和基本原理。

在这个过程中，如果前后端约定好了回调函数的名称，那cb这一传参步骤可以省略。

既然可以通过get传参，那么，
前端就可以将其他请求信息传递到后端，完成更复杂的异步请求数据的操作。

注意：
后端只能以json格式作为参数（jsonp也是因此得名的）。




